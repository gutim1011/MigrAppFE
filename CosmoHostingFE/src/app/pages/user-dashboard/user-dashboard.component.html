<div class="dashboard-container">
  <!-- User Profile Section -->
  <div class="profile-section">
    <!-- Profile Card -->
    <div class="card profile-card">
      <!-- Avatar -->
      <div class="avatar-wrapper">
        <img
          [src]="userImageUrl || 'assets/images/default-avatar.jpg'"
          alt="User"
          class="avatar"
        />
      </div>

      <!-- Inner Info Card (Name + Description) -->
      <div class="inner-info-card">
        <h3>{{ userData?.fullName || '...' }}</h3>
        <p>{{ userData?.email || ('DASHBOARD.NO_EMAIL' | translate) }}</p>
      </div>
    </div>
  </div>

  <!-- Central Content: Notifications, Alerts, Progress -->
  <div class="center-section">
    <div class="top-row">
      <!-- Notifications -->
      <div class="card notifications-card">
        <div class="card-header">
          <i class="fa-solid fa-bell"></i>
          <h4>{{ 'DASHBOARD.NOTIFICATIONS' | translate }}</h4>
        </div>
        <div class="notifications-list">
          <ul>
            <li *ngFor="let note of notifications" (click)="openNotificationDialog(note)">
              {{ note.title }}
            </li>
          </ul>
        </div>
      </div>

      <!-- Alerts -->
      <div class="card alerts-card">
        <div class="card-header">
          <i class="fa-solid fa-circle-exclamation"></i>
          <h4>{{ 'DASHBOARD.ALERTS' | translate }}</h4>
        </div>
        <div class="alerts-list">
          <ul>
            <li *ngFor="let alert of alerts" (click)="openAlertDialog(alert)">
              {{ alert.title }}
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="card progress-card">
      <span>{{ 'DASHBOARD.OVERALL_PROGRESS' | translate }}</span>
      <div class="progress-bar">
        <div class="progress" [style.width.%]="progressPercentage"></div>
      </div>
      <p>{{ 'DASHBOARD.PERCENTAGE' | translate:{ percent: progressPercentage } }}</p>
    </div>
  </div>

  <!-- Chart card -->
  <div class="chart-card card">
  </div>

  <!-- Right Side: Tasks -->
  <div class="tasks-section">
    <div class="card tasks-card">
      <h4>{{ 'DASHBOARD.PENDING_TASKS' | translate }}</h4>
      <p>{{ 'DASHBOARD.TASK_COUNT' | translate:{ count: 5 } }}</p>
      <ul>
        <li *ngFor="let t of [1,2,3,4,5]">T{{ 'DASHBOARD.TASK_ITEM' | translate:{ number: t } }}</li>
      </ul>
    </div>
  </div>

  <!-- Floating Chat Button -->
  <button class="chat-button" (click)="goToChat()">
    <i class="fa-solid fa-headset"></i>
    {{ 'DASHBOARD.SPEAK_TO_ADVISOR' | translate }}
  </button>

  <button class="chat-button" (click)="logout()">
    <i class="fa-solid fa-headset"></i>
    {{ 'DASHBOARD.LOGOUT' | translate }}
  </button>
</div>

